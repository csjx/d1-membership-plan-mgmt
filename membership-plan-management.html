<!DOCTYPE html><html><head><meta charset="utf-8"><title></title><style type="text/css">body{
 margin: 5% 15%;
 font-family: helvetica;
 color: #222;
}

li>p{
 margin-bottom: 0;
}

.line{
 margin-bottom: 0.3em;
 display: table;
}

.admonition-title {
    font-size: 1.3em;
    font-weight: bold;
}

aside{
 float: right;
 width: 20%;
 display: table;
 padding: 1em;
 margin: 1em;
 margin-right: 0;
}

.footnote, .cite{
 width: 98%;
 display: table;
 border: 1px solid #ddd;
 padding: 0.5%;
 margin: 0.5%;
}

.footnote .du-label, .cite .du-label{
 float: left;
 height: 100%;
 width: 5%;
 margin-right: 1em;
 padding: 0.5%;
 text-align: center;
 display: table;
}

th, th p{
 font-weight: bold;
}

.field-label{
 font-weight: bold;
}

ol.arabic{
 list-style-type: decimal;
}

ol.loweralpha{
 list-style-type: lower-alpha;
}

ol.upperalpha{
 list-style-type: upper-alpha;
}

ol.lowerroman{
 list-style-type: lower-roman;
}

ol.upperroman{
 list-style-type: upper-roman;
}

img.align-left{
 float: left;
}

img.align-right{
 float: right;
}
</style></head><body><h1>Membership Plan Management</h1><div class="contents" id="table-of-contents"><h2>Table of Contents</h2><ul><li><p><a class="reference internal" href="#overview" id="id1">Overview</a></p></li><li><p><a class="reference internal" href="#plans" id="id2">Plans</a></p></li><li><p><a class="reference internal" href="#subscriptions" id="id3">Subscriptions</a></p></li><li><p><a class="reference internal" href="#products" id="id4">Products</a></p></li><li><p><a class="reference internal" href="#customers" id="id5">Customers</a></p></li><li><p><a class="reference internal" href="#quotas" id="id6">Quotas</a></p></li><li><p><a class="reference internal" href="#orders" id="id7">Orders</a></p></li></ul></div><section id="overview"><header><h2><a href="#id1">Overview</a></h2></header><p>To support ongoing operations, DataONE offers paid services for memberships. This document outlines the design and implementation details needed to offer these services. It describes the Plans, Subscriptions, Products, Customers, Quotas and Orders that DataONE needs to track in order to know who has subscribed to Membership Plans, what Products the Plans include, what additional Products they add into their Order, and what Quota limits are set per Product. The details of how the payment will be collected is to be determined, but will involve the UCSB extramural funds payment service.</p><img alt="images/overview.png" src="images/overview.png"></section><section id="plans"><header><h2><a href="#id2">Plans</a></h2></header><p>A DataONE Plan defines a price, currency, and billing cycle for a given subscription service product.  There are initially four named subscription plans offered:</p><ul><li><p>Individual</p></li><li><p>Organization</p></li><li><p>Institution</p></li><li><p>Institution+</p></li></ul><p>A Plan is based on a particular Product, identified by the product ID.  The associated Product may change over time in order to add features to the Plan, like increasing the custom portal count, etc.  Arbitrary key-value pair fields can be added to the <code>metadata</code> field to keep track of internal Plan metadata.  Multiple Plans may be associated with a given Product so you can offer them in different currencies.  The list of active Plans are publicly accessible for clients like MetacatUI or the DataONE website to render.</p><img alt="images/plan.png" src="images/plan.png"><p>To support ongoing operations, DataONE offers paid services for memberships.  This document outlines the design and implementation details needed to offer these services.  It describes the Plans, Subscriptions, Products, Customers, Quotas and Orders that DataONE needs to track in order to know who has subscribed to Membership Plans, what Products the Plans include, what additional Products they add into their Order, and what Quota limits are set per Product.  The details of how the payment will be collected is to be determined, but will involve the UCSB extramural funds payment service.</p><p>The following diagram gives an overview of the relationships among the types of information stored:</p><p>An example Plan:</p><pre><code class="code json"><span class="punctuation">{</span>
    <span class="name tag">"id"</span><span class="punctuation">:</span> <span class="literal string double">"445A35DC-A14D-4D89-8B4F-61118D9B3BEA"</span><span class="punctuation">,</span>
    <span class="name tag">"object"</span><span class="punctuation">:</span> <span class="literal string double">"plan"</span><span class="punctuation">,</span>
    <span class="name tag">"active"</span><span class="punctuation">:</span> <span class="keyword constant">true</span><span class="punctuation">,</span>
    <span class="name tag">"amount"</span><span class="punctuation">:</span> <span class="literal number integer">300000</span><span class="punctuation">,</span>
    <span class="name tag">"billing_scheme"</span><span class="punctuation">:</span> <span class="literal string double">"send_invoice"</span><span class="punctuation">,</span>
    <span class="name tag">"created"</span><span class="punctuation">:</span> <span class="literal number integer">1559768309</span><span class="punctuation">,</span>
    <span class="name tag">"currency"</span><span class="punctuation">:</span> <span class="literal string double">"USD"</span><span class="punctuation">,</span>
    <span class="name tag">"interval"</span><span class="punctuation">:</span> <span class="literal string double">"year"</span><span class="punctuation">,</span>
    <span class="name tag">"interval_count"</span><span class="punctuation">:</span> <span class="literal number integer">1</span><span class="punctuation">,</span>
    <span class="name tag">"metadata"</span><span class="punctuation">:</span> <span class="punctuation">{},</span>
    <span class="name tag">"nickname"</span><span class="punctuation">:</span> <span class="literal string double">"Organization"</span><span class="punctuation">,</span>
    <span class="name tag">"product"</span><span class="punctuation">:</span> <span class="literal string double">"725C2F79-7E0B-4018-94F3-C16D05F23CCC"</span>
<span class="punctuation">}</span></code></pre></section><section id="subscriptions"><header><h2><a href="#id3">Subscriptions</a></h2></header><p>Subscriptions are products that are billed on a recurring basis, and associate a Customer with a particular Plan, or a list of Plans.  Subscriptions have creation, start, end and cancel dates used to keep track of the status of the Subscription.  The status field changes based on timely payment of the latest Invoice associated with the Subscription.  Individual Subscriptions can be accessed by the Customer or by an administrator.</p><img alt="images/subscription.png" src="images/subscription.png"></section><section id="products"><header><h2><a href="#id4">Products</a></h2></header><p>Products define the exact DataONE service (or goods) offered, and describe the features of the service using the extensible <code>metadata</code> field.  Each Product is unique, and can be tied to multiple pricing Plans.</p><img alt="images/product.png" src="images/product.png"><p>An example Product:</p><pre><code class="code json"><span class="punctuation">{</span>
    <span class="name tag">"id"</span><span class="punctuation">:</span> <span class="literal string double">"725C2F79-7E0B-4018-94F3-C16D05F23CCC"</span><span class="punctuation">,</span>
    <span class="name tag">"object"</span><span class="punctuation">:</span> <span class="literal string double">"product"</span><span class="punctuation">,</span>
    <span class="name tag">"active"</span><span class="punctuation">:</span> <span class="keyword constant">true</span><span class="punctuation">,</span>
    <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"Organization"</span><span class="punctuation">,</span>
    <span class="name tag">"caption"</span><span class="punctuation">:</span> <span class="literal string double">"Small institutions or groups"</span><span class="punctuation">,</span>
    <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Create multiple portals for your work and projects. Help others understand and access your data."</span><span class="punctuation">,</span>
    <span class="name tag">"created"</span><span class="punctuation">:</span> <span class="literal number integer">1559768309</span><span class="punctuation">,</span>
    <span class="name tag">"statement_descriptor"</span><span class="punctuation">:</span> <span class="literal string double">"DataONE Membership Plan - Organization"</span><span class="punctuation">,</span>
    <span class="name tag">"type"</span><span class="punctuation">:</span> <span class="literal string double">"service"</span><span class="punctuation">,</span>
    <span class="name tag">"unit_label"</span><span class="punctuation">:</span> <span class="literal string double">"membership"</span><span class="punctuation">,</span>
    <span class="name tag">"url"</span><span class="punctuation">:</span> <span class="literal string double">"https://dataone.org/memberships/organization"</span><span class="punctuation">,</span>
    <span class="name tag">"metadata"</span><span class="punctuation">:</span> <span class="punctuation">{</span>
        <span class="name tag">"features"</span><span class="punctuation">:</span> <span class="punctuation">[</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"custom_portal"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"Branded Portals"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Showcase your research, data, results, and usage metrics by building a custom web portal."</span><span class="punctuation">,</span>
                <span class="name tag">"count"</span><span class="punctuation">:</span> <span class="literal number integer">3</span>
            <span class="punctuation">},</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"custom_search_filters"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"Custom Search Filters"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Create custom search filters in your portal to allow scientists to search your holdings using filters appropriate to your field of science."</span>
            <span class="punctuation">},</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"fair_data_assessment"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"FAIR Data Assessments"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Access quality metric reports using the FAIR data suite of checks."</span>
            <span class="punctuation">},</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"custom_quality_service"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"Custom Quality Metrics"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Create a suite of custom quality metadata checks specific to your datasets."</span>
            <span class="punctuation">},</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"aggregated_metrics"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"Aggregated Metrics"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Access and share reports on aggregated usage metrics such as dataset views, data downloads, and dataset citations."</span>
            <span class="punctuation">},</span>
            <span class="punctuation">{</span>
                <span class="name tag">"name"</span><span class="punctuation">:</span> <span class="literal string double">"dataone_voting_member"</span><span class="punctuation">,</span>
                <span class="name tag">"label"</span><span class="punctuation">:</span> <span class="literal string double">"Custom Quality Metrics"</span><span class="punctuation">,</span>
                <span class="name tag">"description"</span><span class="punctuation">:</span> <span class="literal string double">"Vote on the direction and priorities at DataONE Community meetings."</span>
            <span class="punctuation">}</span>
        <span class="punctuation">]</span>
    <span class="punctuation">}</span>
<span class="punctuation">}</span></code></pre></section><section id="customers"><header><h2><a href="#id5">Customers</a></h2></header></section><section id="quotas"><header><h2><a href="#id6">Quotas</a></h2></header></section><section id="orders"><header><h2><a href="#id7">Orders</a></h2></header></section></body></html>